package com.StudentResult.Service;

import java.util.ArrayList;
import java.util.Comparator;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.StudentResult.Dao.StudentResultDao;
import com.StudentResult.Entity.StudentResultEntity;

import one.util.streamex.StreamEx;

@Service
public class StudentResultService {
	@Autowired
	StudentResultDao studentresultdao;

	public String get(List<StudentResultEntity> a) {

		return studentresultdao.get(a);
	}
	public List<StudentResultEntity> find() {
		
		List<StudentResultEntity> a=studentresultdao.find();
		List<StudentResultEntity>d=StreamEx.of(a).sorted(Comparator.comparing(StudentResultEntity::getPercentage).reversed()).distinct().limit(6).toList();
		List<StudentResultEntity>checking=new ArrayList<>();
		for(int i=0;i<d.size();i++) {
			for(int j=1;j<a.size();j++) {
			if(d.get(i).getPercentage()==a.get(j).getPercentage()) {
				checking.add(a.get(j));
			}
			}
		}
		return checking;
	}
	
}
